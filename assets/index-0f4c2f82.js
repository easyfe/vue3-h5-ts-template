import{u as e,r as t,a as o,b as n,_ as a}from"./index-a7dd1c84.js";import{c as l,u as s,t as c,w as r,e as i,d as u,f as d,p as f,n as m,g as p,m as g,h as b,i as v,j as B,P as h,k as w,l as y,B as C,o as x,q as k,v as S,x as T,y as D,z as O,A as P,C as _,D as A,I,E,F as H,G as j,H as z,J as N,_ as F}from"./index-1ce1725f.js";import{v as q,r as U,x as X,h as $,a as G,a4 as J,A as K,w as L,C as M,D as Q,N as R,Q as V,P as W,X as Z,_ as Y,Z as ee,u as te,O as oe,a5 as ne,V as ae,W as le}from"./core-314477b5.js";const[se,ce]=l("action-bar"),re=Symbol(se);const ie=r(q({name:se,props:{placeholder:Boolean,safeAreaInsetBottom:c},setup(t,{slots:o}){const n=U(),a=e(n,ce),{linkChildren:l}=s(re);l();const c=()=>{var e;return X("div",{ref:n,class:[ce(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[null==(e=o.default)?void 0:e.call(o)])};return()=>t.placeholder?a(c):c()}})),[ue,de]=l("action-bar-button");const fe=r(q({name:ue,props:i({},t,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(e,{slots:t}){const a=o(),{parent:l,index:s}=u(re),c=$((()=>{if(l){const e=l.children[s.value-1];return!(e&&"isButton"in e)}})),r=$((()=>{if(l){const e=l.children[s.value+1];return!(e&&"isButton"in e)}}));return d({isButton:!0}),()=>{const{type:o,icon:l,text:s,color:i,loading:u,disabled:d}=e;return X(n,{class:de([o,{last:r.value,first:c.value}]),size:"large",type:o,icon:l,color:i,loading:u,disabled:d,onClick:a},{default:()=>[t.default?t.default():s]})}}})),[me,pe,ge]=l("dialog"),be=i({},f,{title:String,theme:String,width:m,message:[String,Function],callback:Function,allowHtml:Boolean,className:p,transition:g("van-dialog-bounce"),messageAlign:String,closeOnPopstate:c,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:c,closeOnClickOverlay:Boolean,keyboardEnabled:c}),ve=[...b,"transition","closeOnPopstate"];var Be=q({name:me,props:be,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:o}){const a=U(),l=G({confirm:!1,cancel:!1}),s=e=>t("update:show",e),c=t=>{var o;s(!1),null==(o=e.callback)||o.call(e,t)},r=o=>()=>{e.show&&(t(o),e.beforeClose?(l[o]=!0,k(e.beforeClose,{args:[o],done(){c(o),l[o]=!1},canceled(){l[o]=!1}})):c(o))},i=r("cancel"),u=r("confirm"),d=J((o=>{var n,l;if(!e.keyboardEnabled)return;if(o.target!==(null==(l=null==(n=a.value)?void 0:n.popupRef)?void 0:l.value))return;({Enter:e.showConfirmButton?u:w,Escape:e.showCancelButton?i:w})[o.key](),t("keydown",o)}),["enter","esc"]),f=()=>{const t=o.title?o.title():e.title;if(t)return X("div",{class:pe("header",{isolated:!e.message&&!o.default})},[t])},m=t=>{const{message:o,allowHtml:n,messageAlign:a}=e,l=pe("message",{"has-title":t,[a]:a}),s=y(o)?o():o;return n&&"string"==typeof s?X("div",{class:l,innerHTML:s},null):X("div",{class:l},[s])},p=()=>{if(o.default)return X("div",{class:pe("content")},[o.default()]);const{title:t,message:n,allowHtml:a}=e;if(n){const e=!(!t&&!o.title);return X("div",{key:a?1:0,class:pe("content",{isolated:!e})},[m(e)])}},g=()=>o.footer?o.footer():"round-button"===e.theme?X(ie,{class:pe("footer")},{default:()=>[e.showCancelButton&&X(fe,{type:"warning",text:e.cancelButtonText||ge("cancel"),class:pe("cancel"),color:e.cancelButtonColor,loading:l.cancel,disabled:e.cancelButtonDisabled,onClick:i},null),e.showConfirmButton&&X(fe,{type:"danger",text:e.confirmButtonText||ge("confirm"),class:pe("confirm"),color:e.confirmButtonColor,loading:l.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]}):X("div",{class:[x,pe("footer")]},[e.showCancelButton&&X(n,{size:"large",text:e.cancelButtonText||ge("cancel"),class:pe("cancel"),style:{color:e.cancelButtonColor},loading:l.cancel,disabled:e.cancelButtonDisabled,onClick:i},null),e.showConfirmButton&&X(n,{size:"large",text:e.confirmButtonText||ge("confirm"),class:[pe("confirm"),{[C]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:l.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]);return()=>{const{width:t,title:o,theme:n,message:l,className:c}=e;return X(h,K({ref:a,role:"dialog",class:[pe([n]),c],style:{width:B(t)},tabindex:0,"aria-labelledby":o||l,onKeydown:d,"onUpdate:show":s},v(e,ve)),{default:()=>[f(),p(),g()]})}}});let he;let we=i({},{title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1});function ye(e){return S?new Promise(((t,o)=>{he||function(){const e={setup(){const{state:e,toggle:t}=D();return()=>X(Be,K(e,{"onUpdate:show":t}),null)}};({instance:he}=T(e))}(),he.open(i({},we,e,{callback:e=>{("confirm"===e?t:o)(e)}}))})):Promise.resolve(void 0)}r(Be);const[Ce,xe]=l("notice-bar");const ke=r(q({name:Ce,props:{text:String,mode:String,color:String,delay:O(1),speed:O(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}},emits:["close","replay"],setup(e,{emit:t,slots:o}){let n,a=0,l=0;const s=U(),c=U(),r=G({show:!0,offset:0,duration:0}),i=o=>{"closeable"===e.mode&&(r.show=!1,t("close",o))},u=()=>{if(o["right-icon"])return o["right-icon"]();const t="closeable"===e.mode?"cross":"link"===e.mode?"arrow":void 0;return t?X(I,{name:t,class:xe("right-icon"),onClick:i},null):void 0},f=()=>{r.offset=a,r.duration=0,j((()=>{H((()=>{r.offset=-l,r.duration=(l+a)/+e.speed,t("replay")}))}))},m=()=>{const t=!1===e.scrollable&&!e.wrapable,n={transform:r.offset?`translateX(${r.offset}px)`:"",transitionDuration:`${r.duration}s`};return X("div",{ref:s,role:"marquee",class:xe("wrap")},[X("div",{ref:c,style:n,class:[xe("content"),{"van-ellipsis":t}],onTransitionend:f},[o.default?o.default():e.text])])},p=()=>{const{delay:t,speed:o,scrollable:i}=e,u=z(t)?1e3*+t:0;a=0,l=0,r.offset=0,r.duration=0,clearTimeout(n),n=setTimeout((()=>{if(!s.value||!c.value||!1===i)return;const e=E(s).width,t=E(c).width;(i||t>e)&&H((()=>{a=e,l=t,r.offset=-l,r.duration=l/+o}))}),u)};return P(p),_(p),A("pageshow",p),d({reset:p}),L((()=>[e.text,e.scrollable]),p),()=>{const{color:t,wrapable:n,background:a}=e;return M(X("div",{role:"alert",class:xe({wrapable:n}),style:{color:t,background:a}},[o["left-icon"]?o["left-icon"]():e.leftIcon?X(I,{class:xe("left-icon"),name:e.leftIcon},null):void 0,m(),u()]),[[Q,r.show]])}}})),Se=e=>(ae("data-v-536e0e29"),e=e(),le(),e),Te=Se((()=>Z("h1",null,"以指令的形式调用",-1))),De={class:"copy-list-item"},Oe={class:"copy-btn"},Pe=Se((()=>Z("h1",null,"以指令的形式调用(自定义成功、或者失败提示)",-1))),_e={class:"copy-list-item"},Ae={class:"copy-btn"},Ie=Se((()=>Z("h1",null,"以method的形式调用",-1))),Ee={class:"copy-list-item"},He=F(q({__name:"index",setup(e){const t=U("13649259704"),o=e=>{console.log(e)},n=e=>{console.log(e)},l=()=>{N(t.value).then((e=>{ye({message:e})})).catch((e=>{ye({message:e})}))};return(e,s)=>{const c=ke,r=a,i=ne("copy");return R(),V(r,{class:"copy"},{default:W((()=>[Te,Z("div",De,[Y(" 电话："+ee(te(t))+" ",1),M((R(),oe("span",Oe,[Y("  复制 ")])),[[i,{value:te(t)}]])]),Pe,Z("div",_e,[Y(" 电话："+ee(te(t))+" ",1),M((R(),oe("span",Ae,[Y("  复制 ")])),[[i,{value:te(t),onSuccess:o,onError:n}]])]),Ie,X(c,{"left-icon":"volume-o",text:"注意：该方法支持Promise 风格 调用，成功/失败交互需要自己写。"}),Z("div",Ee,[Y(" 电话："+ee(te(t))+" ",1),Z("span",{class:"copy-btn",onClick:l},"复制")])])),_:1})}}}),[["__scopeId","data-v-536e0e29"]]);export{He as default};
