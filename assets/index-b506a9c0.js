var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=Math.pow,s=(a,l,o)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[l]=o,r=(e,a)=>{for(var l in a||(a={}))t.call(a,l)&&s(e,l,a[l]);if(o)for(var l of o(a))i.call(a,l)&&s(e,l,a[l]);return e},u=(e,o)=>a(e,l(o));import{b as c,_ as d}from"./index-d7159458.js";import{c as m,K as p,D as v,f as g,L as f,n as h,M as b,N as y,G as w,O as x,E as _,Q as V,t as O,R as k,z as P,g as T,m as I,S as C,T as S,i as j,P as A,U as z,I as R,q as U,v as D,e as L,x as E,y as B,w as Y,V as F,l as Z,W as $,H as M,X,Y as N,Z as W,a as H,_ as q,$ as K}from"./index-e5fbf354.js";import{F as G,a as J,C as Q}from"./index-80f66ae5.js";import{u as ee}from"./common-e3e4507e.js";import{v as ae,a as le,r as oe,h as te,w as ie,x as ne,k as se,n as re,A as ue,y as ce,C as de,D as me,a6 as pe,N as ve,Q as ge,P as fe,u as he,b as be,a7 as ye,a8 as we,a9 as xe,O as _e,Y as Ve,F as Oe,$ as ke,R as Pe,a2 as Te,_ as Ie,V as Ce,W as Se,X as je}from"./core-314477b5.js";import{S as Ae,a as ze}from"./index-6c1858b9.js";import{I as Re}from"./index-9e1ea18e.js";const Ue=e=>Math.sqrt(n(e[0].clientX-e[1].clientX,2)+n(e[0].clientY-e[1].clientY,2)),De=m("image-preview")[1];var Le=ae({props:{src:String,show:Boolean,active:Number,minZoom:f(h),maxZoom:f(h),rootWidth:f(Number),rootHeight:f(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean},emits:["scale","close","longPress"],setup(e,{emit:a,slots:l}){const o=le({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),t=p(),i=oe(),n=oe(),s=oe(!1),r=oe(!1);let u=0;const c=te((()=>{const{scale:e,moveX:a,moveY:l,moving:t,zooming:i,initializing:n}=o,s={transitionDuration:i||t||n?"0s":".3s"};return(1!==e||r.value)&&(s.transform=`matrix(${e}, 0, 0, ${e}, ${a}, ${l})`),s})),d=te((()=>{if(o.imageRatio){const{rootWidth:a,rootHeight:l}=e,t=s.value?l/o.imageRatio:a;return Math.max(0,(o.scale*t-a)/2)}return 0})),m=te((()=>{if(o.imageRatio){const{rootWidth:a,rootHeight:l}=e,t=s.value?l:a*o.imageRatio;return Math.max(0,(o.scale*t-l)/2)}return 0})),f=(l,t)=>{var n;if((l=y(l,+e.minZoom,+e.maxZoom+1))!==o.scale){const s=l/o.scale;if(o.scale=l,t){const e=_(null==(n=i.value)?void 0:n.$el),a={x:.5*e.width,y:.5*e.height},l=o.moveX-(t.x-e.left-a.x)*(s-1),r=o.moveY-(t.y-e.top-a.y)*(s-1);o.moveX=y(l,-d.value,d.value),o.moveY=y(r,-m.value,m.value)}else o.moveX=0,o.moveY=r.value?u:0;a("scale",{scale:l,index:e.active})}},h=()=>{f(1)};let O,k,P,T,I,C,S,j,A=!1;const z=a=>{const{touches:l}=a;if(O=l.length,2===O&&e.disableZoom)return;const{offsetX:i}=t;t.start(a),k=o.moveX,P=o.moveY,j=Date.now(),A=!1,o.moving=1===O&&(1!==o.scale||r.value),o.zooming=2===O&&!i.value,o.zooming&&(T=o.scale,I=Ue(l))},R=l=>{var o;const t=null==(o=n.value)?void 0:o.$el;if(!t)return;const i=t.firstElementChild,s=l.target===t,r=null==i?void 0:i.contains(l.target);!e.closeOnClickImage&&r||!e.closeOnClickOverlay&&s||a("close")},U=l=>{if(O>1)return;const i=Date.now()-j;t.isTap.value&&(i<250?e.doubleScale?S?(clearTimeout(S),S=null,(()=>{const e=o.scale>1?1:2;f(e,2===e||r.value?{x:t.startX.value,y:t.startY.value}:void 0)})()):S=setTimeout((()=>{R(l),S=null}),250):R(l):i>V&&a("longPress"))},D=a=>{let l=!1;if((o.moving||o.zooming)&&(l=!0,o.moving&&k===o.moveX&&P===o.moveY&&(l=!1),!a.touches.length)){o.zooming&&(o.moveX=y(o.moveX,-d.value,d.value),o.moveY=y(o.moveY,-m.value,m.value),o.zooming=!1),o.moving=!1,k=0,P=0,T=1,o.scale<1&&h();const a=+e.maxZoom;o.scale>a&&f(a,C)}b(a,l),U(a),t.reset()},L=()=>{const{rootWidth:a,rootHeight:l}=e,t=l/a,{imageRatio:i}=o;s.value=o.imageRatio>t&&i<2.6,r.value=o.imageRatio>t&&i>=2.6,r.value&&(u=(i*a-l)/2,o.moveY=u,o.initializing=!0,w((()=>{o.initializing=!1}))),h()},E=e=>{const{naturalWidth:a,naturalHeight:l}=e.target;o.imageRatio=l/a,L()};return ie((()=>e.active),h),ie((()=>e.show),(e=>{e||h()})),ie((()=>[e.rootWidth,e.rootHeight]),L),v("touchmove",(a=>{const{touches:l}=a;if(t.move(a),o.moving){const{deltaX:l,deltaY:i}=t,n=l.value+k,s=i.value+P;if((e.vertical?t.isVertical()&&Math.abs(s)>m.value:t.isHorizontal()&&Math.abs(n)>d.value)&&!A)return void(o.moving=!1);A=!0,b(a,!0),o.moveX=y(n,-d.value,d.value),o.moveY=y(s,-m.value,m.value)}if(o.zooming&&(b(a,!0),2===l.length)){const e=Ue(l),a=T*e/I;C=(e=>({x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}))(l),f(a,C)}}),{target:te((()=>{var e;return null==(e=n.value)?void 0:e.$el}))}),g({resetScale:h}),()=>{const a={loading:()=>ne(x,{type:"spinner"},null)};return ne(Ae,{ref:n,class:De("swipe-item"),onTouchstartPassive:z,onTouchend:D,onTouchcancel:D},{default:()=>[l.image?ne("div",{class:De("image-wrap")},[l.image({src:e.src,onLoad:E,style:c.value})]):ne(Re,{ref:i,src:e.src,fit:"contain",class:De("image",{vertical:s.value}),style:c.value,onLoad:E},a)]})}}});const[Ee,Be]=m("image-preview"),Ye=["show","teleport","transition","overlayStyle","closeOnPopstate"];var Fe=ae({name:Ee,props:{show:Boolean,loop:O,images:k(),minZoom:P(1/3),maxZoom:P(3),overlay:O,vertical:Boolean,closeable:Boolean,showIndex:O,className:T,closeIcon:I("clear"),transition:String,beforeClose:Function,doubleScale:O,overlayClass:T,overlayStyle:Object,swipeDuration:P(300),startPosition:P(0),showIndicators:Boolean,closeOnPopstate:O,closeOnClickImage:O,closeOnClickOverlay:O,closeIconPosition:I("top-right"),teleport:[String,Object]},emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:a,slots:l}){const o=oe(),t=oe(),i=le({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),n=()=>{if(o.value){const e=_(o.value.$el);i.rootWidth=e.width,i.rootHeight=e.height,o.value.resize()}},s=e=>a("scale",e),r=e=>a("update:show",e),u=()=>{U(e.beforeClose,{args:[i.active],done:()=>r(!1)})},c=e=>{e!==i.active&&(i.active=e,a("change",e))},d=()=>{if(e.showIndex)return ne("div",{class:Be("index")},[l.index?l.index({index:i.active}):`${i.active+1} / ${e.images.length}`])},m=()=>{if(l.cover)return ne("div",{class:Be("cover")},[l.cover()])},p=()=>{i.disableZoom=!0},v=()=>{i.disableZoom=!1},f=()=>{if(e.closeable)return ne(R,{role:"button",name:e.closeIcon,class:[Be("close-icon",e.closeIconPosition),z],onClick:u},null)},h=()=>a("closed"),b=(e,a)=>{var l;return null==(l=o.value)?void 0:l.swipeTo(e,a)};return g({resetScale:()=>{var e;null==(e=t.value)||e.resetScale()},swipeTo:b}),se(n),ie([C,S],n),ie((()=>e.startPosition),(e=>c(+e))),ie((()=>e.show),(l=>{const{images:o,startPosition:t}=e;l?(c(+t),re((()=>{n(),b(+t,{immediate:!0})}))):a("close",{index:i.active,url:o[i.active]})})),()=>ne(A,ue({class:[Be(),e.className],overlayClass:[Be("overlay"),e.overlayClass],onClosed:h,"onUpdate:show":r},j(e,Ye)),{default:()=>[f(),ne(ze,{ref:o,lazyRender:!0,loop:e.loop,class:Be("swipe"),vertical:e.vertical,duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:c,onDragEnd:v,onDragStart:p},{default:()=>[e.images.map(((o,n)=>ne(Le,{ref:e=>{n===i.active&&(t.value=e)},src:o,show:e.show,active:i.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:i.rootWidth,rootHeight:i.rootHeight,disableZoom:i.disableZoom,doubleScale:e.doubleScale,closeOnClickImage:e.closeOnClickImage,closeOnClickOverlay:e.closeOnClickOverlay,vertical:e.vertical,onScale:s,onClose:u,onLongPress:()=>a("longPress",{index:n})},{image:l.image})))]}),d(),m()]})}});let Ze;const $e={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};const Me=(e,a=0)=>{if(D)return Ze||({instance:Ze}=E({setup(){const{state:e,toggle:a}=B(),l=()=>{e.images=[]};return()=>ne(Fe,ue(e,{onClosed:l,"onUpdate:show":a}),null)}})),e=Array.isArray(e)?{images:e,startPosition:a}:e,Ze.open(L({},$e,e)),Ze};Y(Fe);const[Xe,Ne,We]=m("uploader");function He(e,a){return new Promise((l=>{if("file"===a)return void l();const o=new FileReader;o.onload=e=>{l(e.target.result)},"dataUrl"===a?o.readAsDataURL(e):"text"===a&&o.readAsText(e)}))}function qe(e,a){return F(e).some((e=>!!e.file&&(Z(a)?a(e.file):e.file.size>+a)))}const Ke=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i;function Ge(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?(a=e.url,Ke.test(a)):"string"==typeof e.content&&0===e.content.indexOf("data:image"));var a}var Je=ae({props:{name:h,item:f(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,{emit:a,slots:l}){const o=()=>{const{status:a,message:l}=e.item;if("uploading"===a||"failed"===a){const e="failed"===a?ne(R,{name:"close",class:Ne("mask-icon")},null):ne(x,{class:Ne("loading")},null),o=M(l)&&""!==l;return ne("div",{class:Ne("mask")},[e,o&&ne("div",{class:Ne("mask-message")},[l])])}},t=l=>{const{name:o,item:t,index:i,beforeDelete:n}=e;l.stopPropagation(),U(n,{args:[t,{name:o,index:i}],done:()=>a("delete")})},i=()=>a("preview"),n=()=>a("reupload"),s=()=>{if(e.deletable&&"uploading"!==e.item.status){const e=l["preview-delete"];return ne("div",{role:"button",class:Ne("preview-delete",{shadow:!e}),tabindex:0,"aria-label":We("delete"),onClick:t},[e?e():ne(R,{name:"cross",class:Ne("preview-delete-icon")},null)])}},r=()=>{if(l["preview-cover"]){const{index:a,item:o}=e;return ne("div",{class:Ne("preview-cover")},[l["preview-cover"](L({index:a},o))])}},u=()=>{const{item:a,lazyLoad:l,imageFit:o,previewSize:t,reupload:s}=e;return Ge(a)?ne(Re,{fit:o,src:a.objectUrl||a.content||a.url,class:Ne("preview-image"),width:Array.isArray(t)?t[0]:t,height:Array.isArray(t)?t[1]:t,lazyLoad:l,onClick:s?n:i},{default:r}):ne("div",{class:Ne("file"),style:$(e.previewSize)},[ne(R,{class:Ne("file-icon"),name:"description"},null),ne("div",{class:[Ne("file-name"),"van-ellipsis"]},[a.file?a.file.name:a.url]),r()])};return()=>ne("div",{class:Ne("preview")},[u(),o(),s()])}});const Qe=Y(ae({name:Xe,props:{name:P(""),accept:I("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:P(Infinity),imageFit:I("cover"),resultType:I("dataUrl"),uploadIcon:I("photograph"),uploadText:String,deletable:O,reupload:Boolean,afterRead:Function,showUpload:O,modelValue:k(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:O,previewOptions:Object,previewFullImage:O,maxSize:{type:[Number,String,Function],default:Infinity}},emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,{emit:a,slots:l}){const o=oe(),t=[],i=oe(-1),n=oe(!1),s=(a=e.modelValue.length)=>({name:e.name,index:a}),r=()=>{o.value&&(o.value.value="")},u=l=>{if(r(),qe(l,e.maxSize)){if(!Array.isArray(l))return void a("oversize",l,s());{const o=function(e,a){const l=[],o=[];return e.forEach((e=>{qe(e,a)?o.push(e):l.push(e)})),{valid:l,invalid:o}}(l,e.maxSize);if(l=o.valid,a("oversize",o.invalid,s()),!l.length)return}}if(l=le(l),i.value>-1){const o=[...e.modelValue];o.splice(i.value,1,l),a("update:modelValue",o),i.value=-1}else a("update:modelValue",[...e.modelValue,...F(l)]);e.afterRead&&e.afterRead(l,s())},c=a=>{const{maxCount:l,modelValue:o,resultType:t}=e;if(Array.isArray(a)){const e=+l-o.length;a.length>e&&(a=a.slice(0,e)),Promise.all(a.map((e=>He(e,t)))).then((e=>{const l=a.map(((a,l)=>{const o={file:a,status:"",message:"",objectUrl:URL.createObjectURL(a)};return e[l]&&(o.content=e[l]),o}));u(l)}))}else He(a,t).then((e=>{const l={file:a,status:"",message:"",objectUrl:URL.createObjectURL(a)};e&&(l.content=e),u(l)}))},d=a=>{const{files:l}=a.target;if(e.disabled||!l||!l.length)return;const o=1===l.length?l[0]:[].slice.call(l);if(e.beforeRead){const a=e.beforeRead(o,s());if(!a)return void r();if(N(a))return void a.then((e=>{c(e||o)})).catch(r)}c(o)};let m;const p=()=>a("closePreview"),v=e=>{n.value=!0,i.value=e,re((()=>x()))},f=()=>{n.value||(i.value=-1),n.value=!1},h=(o,i)=>{const n=["imageFit","deletable","reupload","previewSize","beforeDelete"],r=L(j(e,n),j(o,n,!0));return ne(Je,ue({item:o,index:i,onClick:()=>a(e.reupload?"clickReupload":"clickPreview",o,s(i)),onDelete:()=>((l,o)=>{const t=e.modelValue.slice(0);t.splice(o,1),a("update:modelValue",t),a("delete",l,s(o))})(o,i),onPreview:()=>(a=>{if(e.previewFullImage){const l=e.modelValue.filter(Ge),o=l.map((e=>(e.objectUrl&&!e.url&&"failed"!==e.status&&(e.url=e.objectUrl,t.push(e.url)),e.url))).filter(Boolean);m=Me(L({images:o,startPosition:l.indexOf(a),onClose:p},e.previewOptions))}})(o),onReupload:()=>v(i)},j(e,["name","lazyLoad"]),r),j(l,["preview-cover","preview-delete"]))},b=()=>{if(e.previewImage)return e.modelValue.map(h)},y=e=>a("clickUpload",e),w=()=>{const a=e.modelValue.length<+e.maxCount,t=e.readonly?null:ne("input",{ref:o,type:"file",class:Ne("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&-1===i.value,disabled:e.disabled,onChange:d,onClick:f},null);return l.default?de(ne("div",{class:Ne("input-wrapper"),onClick:y},[l.default(),t]),[[me,a]]):de(ne("div",{class:Ne("upload",{readonly:e.readonly}),style:$(e.previewSize),onClick:y},[ne(R,{name:e.uploadIcon,class:Ne("upload-icon")},null),e.uploadText&&ne("span",{class:Ne("upload-text")},[e.uploadText]),t]),[[me,e.showUpload&&a]])},x=()=>{o.value&&!e.disabled&&o.value.click()};return ce((()=>{t.forEach((e=>URL.revokeObjectURL(e)))})),g({chooseFile:x,reuploadFile:v,closeImagePreview:()=>{m&&m.close()}}),X((()=>e.modelValue)),()=>ne("div",{class:Ne()},[ne("div",{class:Ne("wrapper",{disabled:e.disabled})},[b(),w()])])}})),ea=ae({name:"BaseUploader"}),aa=q(ae(u(r({},ea),{props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,o=pe();let t=oe([]),i=oe([]);const n=a,s=()=>{H(`文件大小不能超过 ${r(o.maxSize)}`)},r=e=>{let a=e;let l=0;for(;a>1024;)a/=1024,++l;return`${a.toFixed(2)}${["byte","KB","MB","GB","TB"][l]}`},u=e=>{e.id&&(i.value.splice(i.value.findIndex((a=>a.id===e.id)),1),n("update:modelValue",i))},c=e=>{return a=this,l=null,o=function*(){let a=[];Array.isArray(e)?a=e:a.push(e),a.forEach((e=>{e.message="上传中",e.status="uploading",e.id=W(),ee(e).then((a=>{const{path_name:l}=a;e.status="done",e.message="上传成功",e.url=l,i.value.push({id:e.id,url:l}),n("update:modelValue",i)})).catch((()=>{e.status="failed",e.message="上传失败"}))}))},new Promise(((e,t)=>{var i=e=>{try{s(o.next(e))}catch(a){t(a)}},n=e=>{try{s(o.throw(e))}catch(a){t(a)}},s=a=>a.done?e(a.value):Promise.resolve(a.value).then(i,n);s((o=o.apply(a,l)).next())}));var a,l,o};return se((()=>{var e;(null==(e=l.modelValue)?void 0:e.length)&&(t.value.length=0,i.value.length=0,l.modelValue.forEach((e=>{const a=W();t.value.push({url:e.url,id:a}),i.value.push({url:e.url,id:a})})))})),(e,a)=>{const l=Qe,o=G;return ve(),ge(o,ue({class:"base-uploader"},e.$attrs),{input:fe((()=>[ne(l,ue({ref:"uploaderControl",modelValue:he(t),"onUpdate:modelValue":a[0]||(a[0]=e=>be(t)?t.value=e:t=e),multiple:"","after-read":c},e.$attrs,{onOversize:s,onDelete:u}),null,16,["modelValue"])])),_:1},16)}}})),[["__scopeId","data-v-1ed20661"]]),la=Object.freeze(Object.defineProperty({__proto__:null,default:aa},Symbol.toStringTag,{value:"Module"})),oa=ae({name:"BaseInput"}),ta=q(ae(u(r({},oa),{props:{modelValue:{required:!0,default:""},modelModifiers:{}},emits:["update:modelValue"],setup(e){const a=ye(e,"modelValue");return(e,l)=>{const o=G;return ve(),ge(o,ue({modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),modelModifiers:{trim:!0},class:"base-input",placeholder:"请输入"},e.$attrs),null,16,["modelValue"])}}})),[["__scopeId","data-v-6bf7a82a"]]),ia=Object.freeze(Object.defineProperty({__proto__:null,default:ta},Symbol.toStringTag,{value:"Module"})),na={action:we((()=>K((()=>import("./index-c9f5e688.js")),["assets/index-c9f5e688.js","assets/index-e5fbf354.js","assets/core-314477b5.js","assets/index-93c59142.css","assets/index-80f66ae5.js","assets/index-d7159458.js","assets/index-cd157b49.css","assets/index-d4fccc7f.css","assets/index-14414a83.css"]))),area:we((()=>K((()=>import("./index-e0a38ca7.js")),["assets/index-e0a38ca7.js","assets/index-e5fbf354.js","assets/core-314477b5.js","assets/index-93c59142.css","assets/index-80f66ae5.js","assets/index-d7159458.js","assets/index-cd157b49.css","assets/index-d4fccc7f.css","assets/common-e3e4507e.js","assets/use-refs-9a320d2d.js","assets/index-38416d6b.js","assets/use-tab-status-b5f61b12.js","assets/index-6c1858b9.js","assets/index-474f5204.css","assets/index-38e91ba3.css"]))),checkbox:we((()=>K((()=>import("./index-9999d5ff.js")),["assets/index-9999d5ff.js","assets/index-e5fbf354.js","assets/core-314477b5.js","assets/index-93c59142.css","assets/index-80f66ae5.js","assets/index-d7159458.js","assets/index-cd157b49.css","assets/index-d4fccc7f.css","assets/index-0abeeda2.js","assets/index-cdbd340d.css","assets/index-6705efae.css"]))),date:we((()=>K((()=>import("./index-b4cf76d7.js")),["assets/index-b4cf76d7.js","assets/index-e5fbf354.js","assets/core-314477b5.js","assets/index-93c59142.css","assets/index-80f66ae5.js","assets/index-d7159458.js","assets/index-cd157b49.css","assets/index-d4fccc7f.css","assets/index-0bd550bc.js","assets/index-4776fdda.css","assets/dayjs.min-3ea2e455.js","assets/index-d8182935.js","assets/utils-b05fdb96.js","assets/index-943ec630.js","assets/index-7c3c1579.css","assets/index-38e91ba3.css"]))),input:we((()=>K((()=>Promise.resolve().then((()=>ia))),void 0))),picker:we((()=>K((()=>import("./index-0dee47b6.js")),["assets/index-0dee47b6.js","assets/index-e5fbf354.js","assets/core-314477b5.js","assets/index-93c59142.css","assets/index-80f66ae5.js","assets/index-d7159458.js","assets/index-cd157b49.css","assets/index-d4fccc7f.css","assets/index-0bd550bc.js","assets/index-4776fdda.css","assets/index-943ec630.js","assets/index-bc512b7a.css","assets/index-38e91ba3.css"]))),radio:we((()=>K((()=>import("./index-e065f9db.js")),["assets/index-e065f9db.js","assets/index-e5fbf354.js","assets/core-314477b5.js","assets/index-93c59142.css","assets/index-80f66ae5.js","assets/index-d7159458.js","assets/index-cd157b49.css","assets/index-d4fccc7f.css","assets/index-0abeeda2.js","assets/index-cdbd340d.css","assets/index-17ab4c96.css"]))),switch:we((()=>K((()=>import("./index-94699100.js")),["assets/index-94699100.js","assets/index-e5fbf354.js","assets/core-314477b5.js","assets/index-93c59142.css","assets/index-80f66ae5.js","assets/index-d7159458.js","assets/index-cd157b49.css","assets/index-d4fccc7f.css","assets/index-ea2e1508.css"]))),uploader:we((()=>K((()=>Promise.resolve().then((()=>la))),void 0))),calendar:we((()=>K((()=>import("./index-4a444460.js")),["assets/index-4a444460.js","assets/index-e5fbf354.js","assets/core-314477b5.js","assets/index-93c59142.css","assets/index-80f66ae5.js","assets/index-d7159458.js","assets/index-cd157b49.css","assets/index-d4fccc7f.css","assets/index-0bd550bc.js","assets/index-4776fdda.css","assets/dayjs.min-3ea2e455.js","assets/use-refs-9a320d2d.js","assets/utils-b05fdb96.js","assets/index-c52bc4d6.css","assets/index-38e91ba3.css"])))},sa=ae({name:"BaseForm"}),ra=q(ae(u(r({},sa),{props:xe({config:{},formProps:{}},{modelValue:{required:!0,default:()=>({})},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:a}){const l=e,o=ye(e,"modelValue"),t=oe(null),i=e=>{var a;return null==(a=t.value)?void 0:a.validate(e)};return a({validate:i,resetValidation:e=>{var a;null==(a=t.value)||a.resetValidation(e)},submit:()=>{i()}}),(e,a)=>{const i=J;return ve(),ge(i,ue({ref_key:"baseForm",ref:t,class:"base-form","label-align":"left","input-align":"right","error-message-align":"right"},l.formProps),{default:fe((()=>[(ve(!0),_e(Oe,null,Ve(l.config,(a=>{return ve(),_e(Oe,{key:a.name},[(l=a.if,("function"==typeof l?l(o.value):void 0===l||l)?(ve(),_e(Oe,{key:0},["slot"===a.inputType?ke(e.$slots,a.name,{key:0},void 0,!0):(ve(),ge(Pe(he(na)[a.inputType]),ue({key:1,modelValue:o.value[a.name],"onUpdate:modelValue":e=>o.value[a.name]=e,ref_for:!0},a),null,16,["modelValue","onUpdate:modelValue"]))],64)):Te("",!0))],64);var l})),128))])),_:3},16)}}})),[["__scopeId","data-v-cc6aa40c"]]),ua={validate:e=>new Promise(((a,l)=>{e.validate().then((e=>{a(e)})).catch((e=>{l(e)}))})),input:(e,a,l)=>r({inputType:"input",label:e,name:a},l),action:(e,a,l,o)=>r({inputType:"action",label:e,name:a,options:l},o),date:(e,a,l,o)=>r({inputType:"date",label:e,name:a,options:l},o),checkbox:(e,a,l,o)=>r({inputType:"checkbox",label:e,name:a,options:l},o),radio:(e,a,l,o)=>r({inputType:"radio",label:e,name:a,options:l},o),switch:(e,a,l)=>r({inputType:"switch",label:e,name:a},l),area:(e,a,l)=>r({inputType:"area",label:e,name:a},l),uploader:(e,a,l)=>r({inputType:"uploader",label:e,name:a},l),picker:(e,a,l,o)=>r({inputType:"picker",label:e,name:a,options:l},o),calendar:(e,a,l,o)=>r({inputType:"calendar",label:e,name:a,options:l},o),slot:(e,a)=>r({inputType:"slot",name:e},a)},ca=e=>(Ce("data-v-cc10ed9f"),e=e(),Se(),e),da=ca((()=>je("h1",null,"form表单（设置表单的对齐方式）",-1))),ma=ca((()=>je("h1",null,"form表单(单个表单表单项设置对齐方式)",-1))),pa=ca((()=>je("h1",null,"form表单(带表单校验)",-1))),va=ca((()=>je("h1",null,"form表单(插槽)",-1))),ga=ca((()=>je("h1",null,"form表单(使用单个表单控件)",-1))),fa=ca((()=>je("span",null,"上传文件",-1))),ha=q(ae({__name:"index",setup(e){const a=oe(null),l=le({total:"这是初始化值并禁用",gender:"1",datetime:1658744420,region:[1,2,4],file:[{url:"https://img01.71360.com/file/read/www2/M00/08/76/wKj2K2LeVBKALAxVAAGMb5ulYJw384.jpg"}],checkbox:["2"],radio:"1",switch:!0,describe:""}),o=le({total:"",gender:"",datetime:"",region:[],file:[],checkbox:[],radio:"",switch:"",describe:""}),t=le({total:"",gender:"",datetime:"",region:[],file:[],checkbox:[],radio:"",switch:"",describe:""}),i=le({file:[]}),n=le({label:"文件上传"}),s=le({name:""}),r=le({label:"姓名",labelAlign:"left",inputAlign:"right",errorMessageAlign:"right"}),u=te((()=>[ua.input("总商品金额","total",{readonly:!0,disabled:!0}),ua.action("性别","gender",[{name:"男",value:"1"},{name:"女",value:"2"}]),ua.date("日期","datetime",{columnsType:["year","month","day"],title:"选择年月",formatter:(e,a)=>("year"===e&&(a.text+="年"),"month"===e&&(a.text+="月"),"day"===e&&(a.text+="日"),a)},{format:"YYYY年/MM月/DD日"}),ua.area("地区","region",{fieldNames:{text:"label",value:"value",children:"children"}}),ua.uploader("文件上传","file",{maxCount:3,maxSize:10485760}),ua.checkbox("复选框","checkbox",[{label:"复选框 1",value:"1"},{label:"复选框 2",value:"2"}]),ua.radio("单选框","radio",[{label:"单选框1",value:"1"},{label:"单选框2",value:"2"}]),ua.switch("开关","switch"),ua.input("描述","describe",{type:"textarea",clearable:!0,rules:[{required:!0,message:"必填项"}],placeholder:"请填写描述",maxlength:"50",showWordLimit:!0})])),m=le([{name:"total",label:"总商品金额2",readonly:!1,inputType:"input",required:!0,rules:[{validator:(e,a)=>""==e?(a.message="请输入金额",!1):!!/(^[1-9]{1}[0-9]*$)|(^[0-9]*\.[0-9]{2}$)/.test(e)||(a.message="金额只能是数字",!1)}]},{name:"gender",label:"性别",inputType:"select",options:[{name:"男",value:"1"},{name:"女",value:"2"}],labelAlign:"left",rules:[{required:!0}]},{name:"datetime",label:"日期",inputType:"datetime",options:{type:"time"},labelAlign:"left"},{name:"region",label:"地区",inputType:"area",labelAlign:"left"},{name:"file",label:"文件上传",inputType:"uploader",labelAlign:"left"},{name:"checkbox",label:"复选框",inputType:"checkbox",options:[{label:"复选框 1",value:"1"},{label:"复选框 2",value:"2"}],labelAlign:"left"},{name:"radio",label:"单选框",inputType:"radio",options:[{label:"单选框1",value:"1"},{label:"单选框2",value:"2"}],labelAlign:"left"},{name:"switch",label:"开关",inputType:"switch",labelAlign:"left"},{name:"describe",label:"描述",inputType:"textarea",maxlength:"50",showWordLimit:!0,rules:[{required:!0,message:"请填写用户名"}]}]),p=le([{name:"total",inputType:"slot"}]),v=oe(),g=()=>{v.value.validate().then((e=>{console.log("res",e),H("校验通过")})).catch((()=>{console.log("表单校验未通过"),H("校验失败")}))},f=()=>{a.value.validate().then((e=>{console.log("res",e)})).catch((()=>{console.log("表单校验未通过")}))},h=()=>{console.log("上传完成回调 ")};return(e,b)=>{const y=ra,w=c,x=Q,_=ta,V=G,O=aa,k=d;return ve(),ge(k,{class:"form"},{default:fe((()=>[da,ne(x,null,{default:fe((()=>[ne(y,{ref_key:"form",ref:v,key:"1",modelValue:he(l),"onUpdate:modelValue":b[0]||(b[0]=e=>be(l)?l.value=e:null),config:he(u)},null,8,["modelValue","config"]),ne(x,{class:"footer"},{default:fe((()=>[ne(w,{block:"",round:"",type:"danger",onClick:g},{default:fe((()=>[Ie("表单提交")])),_:1})])),_:1})])),_:1}),ma,ne(_,ue({modelValue:he(s).name,"onUpdate:modelValue":b[1]||(b[1]=e=>he(s).name=e)},he(r)),null,16,["modelValue"]),pa,ne(x,null,{default:fe((()=>[ne(y,{ref_key:"baseForm2",ref:a,key:"2",modelValue:he(o),"onUpdate:modelValue":b[2]||(b[2]=e=>be(o)?o.value=e:null),config:he(m)},null,8,["modelValue","config"]),ne(x,{class:"footer"},{default:fe((()=>[ne(w,{block:"",round:"",type:"danger",onClick:f},{default:fe((()=>[Ie("表单提交")])),_:1})])),_:1})])),_:1}),va,ne(y,{key:"3",modelValue:he(t),"onUpdate:modelValue":b[4]||(b[4]=e=>be(t)?t.value=e:null),config:he(p)},{total:fe((()=>[ne(V,{modelValue:he(t).total,"onUpdate:modelValue":b[3]||(b[3]=e=>he(t).total=e),modelModifiers:{trim:!0},label:"自定义",placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1},8,["modelValue","config"]),ga,ne(O,ue({modelValue:he(i).file,"onUpdate:modelValue":b[5]||(b[5]=e=>he(i).file=e)},he(n),{"upload-end":h}),{uploader:fe((()=>[fa])),_:1},16,["modelValue"])])),_:1})}}}),[["__scopeId","data-v-cc10ed9f"]]);export{ha as default};
