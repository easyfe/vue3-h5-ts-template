var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,n=(e,t)=>{for(var s in t||(t={}))l.call(t,s)&&i(e,s,t[s]);if(a)for(var s of a(t))o.call(t,s)&&i(e,s,t[s]);return e},r=(e,a)=>t(e,s(a));import{_ as u}from"./index-7a246152.js";import{c,z as m,t as d,n as p,j as g,W as v,X as y,U as h,a5 as b,H as _,a6 as w,M as f,q as k,a7 as $,Q as S,w as P,_ as x}from"./index-ac951421.js";import{v as C,r as K,h as j,w as V,x as B,C as N,D as O,A as z,n as I,N as M,O as A,$ as T,Z as L,a2 as W,a as E,X as F,F as U,Q as Y,a3 as Z,u as D,b as G,a0 as Q,a5 as X,V as q,W as H,P as J,Y as R,_ as ee}from"./core-314477b5.js";import{_ as te}from"./index-d05a826e.js";import{l as se}from"./index-e4eb91b9.js";import{I as ae}from"./index-c4ee782a.js";import"./index-7f5386e5.js";import"./index-87e816b1.js";const[le,oe]=c("stepper"),ie=(e,t)=>String(e)===String(t);const ne=P(C({name:le,props:{min:m(1),max:m(Infinity),name:m(""),step:m(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:d,showMinus:d,showInput:d,longPress:d,autoFixed:d,allowEmpty:Boolean,modelValue:p,inputWidth:p,buttonSize:p,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:m(1),decimalLength:p},emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const s=(t,s=!0)=>{const{min:a,max:l,allowEmpty:o,decimalLength:i}=e;return o&&""===t||(t=""===(t=b(String(t),!e.integer))?0:+t,t=Number.isNaN(t)?+a:t,t=s?Math.max(Math.min(+l,t),+a):t,_(i)&&(t=t.toFixed(+i))),t};let a;const l=K(),o=K((()=>{var a;const l=null!=(a=e.modelValue)?a:e.defaultValue,o=s(l);return ie(o,e.modelValue)||t("update:modelValue",o),o})()),i=j((()=>e.disabled||e.disableMinus||+o.value<=+e.min)),n=j((()=>e.disabled||e.disablePlus||+o.value>=+e.max)),r=j((()=>({width:g(e.inputWidth),height:g(e.buttonSize)}))),u=j((()=>v(e.buttonSize))),c=t=>{e.beforeChange?k(e.beforeChange,{args:[t],done(){o.value=t}}):o.value=t},m=()=>{if("plus"===a&&n.value||"minus"===a&&i.value)return void t("overlimit",a);const l="minus"===a?-e.step:+e.step,r=s($(+o.value,l));c(r),t(a)},d=t=>{const s=t.target,{value:a}=s,{decimalLength:l}=e;let i=b(String(a),!e.integer);if(_(l)&&i.includes(".")){const e=i.split(".");i=`${e[0]}.${e[1].slice(0,+l)}`}e.beforeChange?s.value=String(o.value):ie(a,i)||(s.value=i);const n=i===String(+i);c(n?+i:i)},p=s=>{var a;e.disableInput?null==(a=l.value)||a.blur():t("focus",s)},P=a=>{const l=a.target,i=s(l.value,e.autoFixed);l.value=String(i),o.value=i,I((()=>{t("blur",a),w()}))};let x,C;const M=()=>{C=setTimeout((()=>{m(),M()}),200)},A=t=>{e.longPress&&(clearTimeout(C),x&&f(t))},T=t=>{e.disableInput&&f(t)},L=t=>({onClick:e=>{f(e),a=t,m()},onTouchstartPassive:()=>{a=t,e.longPress&&(x=!1,clearTimeout(C),C=setTimeout((()=>{x=!0,m(),M()}),S))},onTouchend:A,onTouchcancel:A});return V((()=>[e.max,e.min,e.integer,e.decimalLength]),(()=>{const e=s(o.value);ie(e,o.value)||(o.value=e)})),V((()=>e.modelValue),(e=>{ie(e,o.value)||(o.value=s(e))})),V(o,(s=>{t("update:modelValue",s),t("change",s,{name:e.name})})),y((()=>e.modelValue)),()=>B("div",{role:"group",class:oe([e.theme])},[N(B("button",z({type:"button",style:u.value,class:[oe("minus",{disabled:i.value}),{[h]:!i.value}],"aria-disabled":i.value||void 0},L("minus")),null),[[O,e.showMinus]]),N(B("input",{ref:l,type:e.integer?"tel":"text",role:"spinbutton",class:oe("input"),value:o.value,style:r.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":o.value,onBlur:P,onInput:d,onFocus:p,onMousedown:T},null),[[O,e.showInput]]),N(B("button",z({type:"button",style:u.value,class:[oe("plus",{disabled:n.value}),{[h]:!n.value}],"aria-disabled":n.value||void 0},L("plus")),null),[[O,e.showPlus]])])}})),re={class:"base-product-list"},ue={key:1,class:"product-card-title"},ce=C({name:"TheProductList"}),me=x(C(r(n({},ce),{props:{title:{type:String,default:""}},setup:e=>(t,s)=>(M(),A("div",re,[t.$slots.top?T(t.$slots,"top",{key:0},void 0,!0):e.title?(M(),A("div",ue,L(e.title),1)):W("",!0),t.$slots.item_card?T(t.$slots,"item_card",{key:2},void 0,!0):W("",!0),t.$slots.bottom?T(t.$slots,"bottom",{key:3},void 0,!0):W("",!0)]))})),[["__scopeId","data-v-faef0b76"]]),de={class:"item-card"},pe={class:"image"},ge={class:"right"},ve={class:"right-top"},ye={class:"title"},he={key:2},be={class:"right-bottom"},_e={class:"bottom-info"},we={class:"specAndprice"},fe={key:0,class:"size"},ke={key:1},$e={class:"price"},Se={key:1,class:"line-money"},Pe={key:1,class:"num"},xe={key:1},Ce={key:0,class:"bottom-goodsNum"},Ke={key:1},je=[(e=>(q("data-v-b4ec3f8b"),e=e(),H(),e))((()=>F("img",{src:"/vue3-h5-ts-template/assets/add-cart-4b11a981.png",alt:""},null,-1)))],Ve=C({name:"TheProductCard"}),Be=x(C(r(n({},Ve),{props:{item:{type:Object,default:()=>({})},lazyLoad:{type:Boolean,default:!0},showStepper:{type:Boolean,default:!1},showCartIcon:{type:Boolean,default:!1},showPrice:{type:Boolean,default:!0},showScribePrice:{type:Boolean,default:!0},showSpec:{type:Boolean,default:!0},showSalesVolume:{type:Boolean,default:!1},showGoodsNum:{type:Boolean,default:!1},min:{type:[Number,String],default:1},max:{type:[Number,String],default:999},integer:{type:Boolean,default:!0},initValue:{type:[Number,String],default:0},priceKey:{type:String,default:"item_price"},titleKey:{type:String,default:"goods_name"},scribePriceKey:{type:String,default:"scribe_price"},salesVolumeKey:{type:String,default:"num"},goodsNumKey:{type:String,default:"goods_num"},imageKey:{type:String,default:"goods_image"},lineNumber:{type:[Number,String],default:2}},emits:["change"],setup(e,{emit:t}){const s=e,a=j((()=>({"--lineNumber":s.lineNumber})));let l=K(s.initValue),o=E({});V((()=>s.initValue),(e=>{l.value=e}));const i=t,r=se.debounce((()=>{i("change",o,l.value)}),300),u=e=>{Object.assign(o,e),r()},c=e=>{e.stopPropagation(),e.preventDefault()};return(t,o)=>{const r=ae,m=te,d=ne,p=X("lazy");return M(),A("div",{class:"product-list-item",style:Q(n({},D(a))),onClick:o[5]||(o[5]=t=>{return s=e.item,void i("change",s);var s})},[F("div",de,[t.$slots["card-content"]?T(t.$slots,"card-content",{key:0,row:e.item},void 0,!0):(M(),A(U,{key:1},[t.$slots.left?(M(),A("div",{key:0,class:"left",onClick:c},[T(t.$slots,"left",{row:e.item},void 0,!0)])):W("",!0),F("div",pe,[t.$slots.tag?T(t.$slots,"tag",{key:0,row:e.item},void 0,!0):W("",!0),t.$slots.thumb?T(t.$slots,"thumb",{key:1,row:e.item},void 0,!0):N((M(),Y(r,z({key:2,"lazy-load":e.lazyLoad,src:e.item[e.imageKey],fit:"cover"},t.$attrs),null,16,["lazy-load","src"])),[[p,e.item[e.imageKey]]])]),F("div",ge,[F("div",ve,[F("div",ye,[t.$slots["title-tag"]?T(t.$slots,"title-tag",{key:0,row:e.item},void 0,!0):W("",!0),t.$slots.title?T(t.$slots,"title",{key:1,row:e.item},void 0,!0):(M(),A("span",he,L(e.item[e.titleKey]),1))]),t.$slots.tags?T(t.$slots,"tags",{key:0,row:e.item},void 0,!0):W("",!0)]),F("div",be,[t.$slots["title-footer"]?T(t.$slots,"title-footer",{key:0},void 0,!0):(M(),A(U,{key:1},[F("div",_e,[F("div",we,[e.showSpec?(M(),A("div",fe,[t.$slots.spec?T(t.$slots,"spec",{key:0,row:e.item},void 0,!0):e.item.spec_name?(M(),A("span",ke,"规格："+L(e.item.spec_name),1)):W("",!0)])):W("",!0),F("div",$e,[e.showPrice?(M(),A(U,{key:0},[t.$slots.price?T(t.$slots,"price",{key:0,row:e.item},void 0,!0):(M(),Y(m,{key:1,money:e.item[e.priceKey]},null,8,["money"]))],64)):W("",!0),e.showScribePrice?(M(),A(U,{key:1},[t.$slots["scribe-price"]?T(t.$slots,"scribe-price",{key:0,row:e.item},void 0,!0):e.item[e.scribePriceKey]?(M(),A("span",Se," ￥"+L(e.item[e.scribePriceKey]),1)):W("",!0)],64)):W("",!0),t.$slots["price-right"]?T(t.$slots,"price-right",{key:2,row:e.item},void 0,!0):W("",!0)]),e.showSalesVolume?(M(),A("div",Pe,[t.$slots.num?T(t.$slots,"num",{key:0,row:e.item},void 0,!0):e.item[e.salesVolumeKey]?(M(),A("span",xe,"销量："+L(e.item[e.salesVolumeKey]),1)):W("",!0)])):W("",!0)])]),e.showGoodsNum?(M(),A("div",Ce,[t.$slots["goods-num"]?T(t.$slots,"goods-num",{key:0,row:e.item},void 0,!0):e.item[e.goodsNumKey]?(M(),A("span",Ke,"× "+L(e.item[e.goodsNumKey]),1)):W("",!0)])):W("",!0),F("div",{class:"bottom-action",onClick:c},[t.$slots.footer?T(t.$slots,"footer",{key:0},void 0,!0):(M(),A(U,{key:1},[e.showCartIcon?(M(),A("div",{key:0,class:"add-cart",onClick:o[0]||(o[0]=Z((t=>{return s=e.item,void i("change",s);var s}),["stop"]))},je)):W("",!0),e.showStepper?(M(),Y(d,{key:1,modelValue:D(l),"onUpdate:modelValue":o[1]||(o[1]=e=>G(l)?l.value=e:l=e),min:e.min,max:e.max,integer:e.integer,class:"custom-setpper",onPlus:o[2]||(o[2]=t=>u(e.item)),onMinus:o[3]||(o[3]=t=>u(e.item)),onBlur:o[4]||(o[4]=t=>(e=>{var t,a;let o=l.value;""===o&&(o=null!=(t=s.min)?t:1),s.max&&o>s.max&&(o=null!=(a=s.max)?a:999),i("change",e,o)})(e.item))},null,8,["modelValue","min","max","integer"])):W("",!0)],64))])],64))])])],64))])],4)}}})),[["__scopeId","data-v-b4ec3f8b"]]),Ne="/vue3-h5-ts-template/assets/purchase-6735c347.png",Oe="/vue3-h5-ts-template/assets/retreat-2fb1c6b4.png",ze=e=>(q("data-v-20e71ac2"),e=e(),H(),e),Ie=ze((()=>F("h1",null,"商品卡片(包含步进器)",-1))),Me=ze((()=>F("h1",null,"商品卡片(包含购物车按钮)",-1))),Ae=ze((()=>F("h1",null,"商品卡片（包含卡片标题、状态、图片角标、卡片底部操作）",-1))),Te=ze((()=>F("div",{class:"title-info"},[F("span",null,"商品信息"),F("span",{class:"status"},"待发货")],-1))),Le={key:0,class:"badge"},We={key:0,src:Ne,alt:""},Ee={key:1,src:Oe,alt:""},Fe=ze((()=>F("div",{class:"bottom"},[F("p",null,"关联订单号：123456789654123"),F("div",null,[F("div",null,"确认收货")])],-1))),Ue=ze((()=>F("h1",null,"单独使用商品卡片",-1))),Ye=ze((()=>F("h1",null,"自定义左侧内容、自定义规格、自定义箱规、自定义商品图片角标",-1))),Ze={class:"image"},De=ze((()=>F("span",{class:"size"},"自定义",-1))),Ge={class:"size"},Qe=ze((()=>F("span",{class:"size"},"自定义箱规",-1))),Xe={key:0,class:"badge"},qe={key:0,src:Ne,alt:""},He={key:1,src:Oe,alt:""},Je=ze((()=>F("h1",null,"单独使用商品卡片",-1))),Re=ze((()=>F("h1",null,"显示步进器",-1))),et=ze((()=>F("h1",null,"单独使用商品卡片(商品标题超出一行显示省略号)",-1))),tt=ze((()=>F("h1",null,"显示步进器",-1))),st=ze((()=>F("h1",null,"单独使用商品卡片(显示商品数量)",-1))),at=ze((()=>F("h1",null,"显示步进器",-1))),lt=x(C({__name:"index",setup(e){const t=K([{goods_image:"https://img01.71360.com/file/read/www/M00/78/96/wKj0iWEKOZ6AY2o_AAC_K84PuSU108.jpg",goods_name:"商品名称",spec_name:"红色",purchase_price:"9939.1",scribe_price:100,carton:"1箱（每箱100件）",purchase_unit:"箱",retail_unit:"个",unit_conversion:12,num:2,goods_num:13},{goods_image:"https://img01.71360.com/file/read/www/M00/78/96/wKj0iWEKOZ6AY2o_AAC_K84PuSU108.jpg",goods_name:"商品名称",spec_name:"红色",purchase_price:"9939.1",scribe_price:100,carton:"1箱（每箱100件）",purchase_unit:"箱",retail_unit:"个",unit_conversion:12,num:3,goods_num:13},{goods_image:"https://img01.71360.com/file/read/www/M00/78/96/wKj0iWEKOZ6AY2o_AAC_K84PuSU108.jpg",goods_name:"商品名称",spec_name:"红色",purchase_price:"9939.1",scribe_price:100,carton:"1箱（每箱100件）",purchase_unit:"箱",retail_unit:"个",unit_conversion:12,goods_num:13}]),s=(e,t)=>{console.log(e),console.log(t)},a=e=>{console.log("点击卡片了",e)};return(e,l)=>{const o=Be,i=me,n=ae,r=u;return M(),Y(r,{"cotnent-class":"card"},{default:J((()=>[Ie,B(i,null,{item_card:J((()=>[(M(!0),A(U,null,R(D(t),((e,t)=>(M(),Y(o,{key:t,item:e,"show-stepper":!0,"init-value":e.num,"lazy-load":!1,"price-key":"purchase_price",onChange:s,onClick:a},{title:J((({row:e})=>[ee(L(e.goods_name),1)])),_:2},1032,["item","init-value"])))),128))])),_:1}),Me,B(i,null,{item_card:J((()=>[(M(!0),A(U,null,R(D(t),((e,t)=>(M(),Y(o,{key:t,item:e,"show-catr-icon":!0,onChange:s,onClick:a},null,8,["item"])))),128))])),_:1}),Ae,B(i,null,{top:J((()=>[Te])),item_card:J((()=>[(M(!0),A(U,null,R(D(t),((e,t)=>(M(),Y(o,{key:t,item:e,onChange:s,onClick:a},{tag:J((e=>[e.row.is_purchase||e.row.is_retreat?(M(),A("div",Le,[e.row.is_purchase?(M(),A("img",We)):e.row.is_retreat?(M(),A("img",Ee)):W("",!0)])):W("",!0)])),_:2},1032,["item"])))),128))])),bottom:J((()=>[Fe])),_:1}),Ue,Ye,(M(!0),A(U,null,R(D(t).slice(0,1),((e,t)=>(M(),Y(o,{key:t,item:e},{thumb:J((({row:e})=>[F("div",Ze,[B(n,{src:e.img,fit:"cover"},null,8,["src"])])])),left:J((()=>[De])),spec:J((e=>[F("span",Ge,"自定义"+L(e.row.spec),1)])),carton:J((()=>[Qe])),tag:J((e=>[e.row.is_purchase||e.row.is_retreat?(M(),A("div",Xe,[e.row.is_purchase?(M(),A("img",qe)):e.row.is_retreat?(M(),A("img",He)):W("",!0)])):W("",!0)])),_:2},1032,["item"])))),128)),Je,Re,(M(!0),A(U,null,R(D(t).slice(0,1),((e,t)=>(M(),Y(o,{key:"in-1-"+t,item:e,"show-stepper":!0,min:0,integer:!1,onChange:s,onClick:a},null,8,["item"])))),128)),et,tt,(M(!0),A(U,null,R(D(t).slice(0,1),((e,t)=>(M(),Y(o,{key:"in-2-"+t,item:e,"show-stepper":!0,min:0,integer:!1,"line-number":"1",onChange:s,onClick:a},null,8,["item"])))),128)),st,at,(M(!0),A(U,null,R(D(t).slice(0,1),((e,t)=>(M(),Y(o,{key:"in-3-"+t,item:e,"show-goods-num":!0,"goods-num-key":"goods_num",onClick:a},null,8,["item"])))),128))])),_:1})}}}),[["__scopeId","data-v-20e71ac2"]]);export{lt as default};
