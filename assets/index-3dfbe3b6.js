import{u as e,r as o,a as t,b as n,_ as l}from"./index-7a246152.js";import{c as a,u as s,t as r,w as c,e as i,d as u,f as d,p as f,n as m,g as p,m as g,h as b,i as v,j as B,P as h,k as y,l as w,B as C,o as x,q as k,v as S,x as T,y as D,z as O,A as P,C as _,D as A,I,E,F as H,G as j,H as z,J as N,_ as F}from"./index-ac951421.js";import{v as q,r as U,x as X,h as $,a as G,a4 as J,A as K,w as L,C as M,D as Q,N as R,Q as V,P as W,X as Z,_ as Y,Z as ee,u as oe,O as te,a5 as ne,V as le,W as ae}from"./core-314477b5.js";const[se,re]=a("action-bar"),ce=Symbol(se);const ie=c(q({name:se,props:{placeholder:Boolean,safeAreaInsetBottom:r},setup(o,{slots:t}){const n=U(),l=e(n,re),{linkChildren:a}=s(ce);a();const r=()=>{var e;return X("div",{ref:n,class:[re(),{"van-safe-area-bottom":o.safeAreaInsetBottom}]},[null==(e=t.default)?void 0:e.call(t)])};return()=>o.placeholder?l(r):r()}})),[ue,de]=a("action-bar-button");const fe=c(q({name:ue,props:i({},o,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(e,{slots:o}){const l=t(),{parent:a,index:s}=u(ce),r=$((()=>{if(a){const e=a.children[s.value-1];return!(e&&"isButton"in e)}})),c=$((()=>{if(a){const e=a.children[s.value+1];return!(e&&"isButton"in e)}}));return d({isButton:!0}),()=>{const{type:t,icon:a,text:s,color:i,loading:u,disabled:d}=e;return X(n,{class:de([t,{last:c.value,first:r.value}]),size:"large",type:t,icon:a,color:i,loading:u,disabled:d,onClick:l},{default:()=>[o.default?o.default():s]})}}})),[me,pe,ge]=a("dialog"),be=i({},f,{title:String,theme:String,width:m,message:[String,Function],callback:Function,allowHtml:Boolean,className:p,transition:g("van-dialog-bounce"),messageAlign:String,closeOnPopstate:r,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:r,closeOnClickOverlay:Boolean,keyboardEnabled:r,destroyOnClose:Boolean}),ve=[...b,"transition","closeOnPopstate","destroyOnClose"];var Be=q({name:me,props:be,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:o,slots:t}){const l=U(),a=G({confirm:!1,cancel:!1}),s=e=>o("update:show",e),r=o=>{var t;s(!1),null==(t=e.callback)||t.call(e,o)},c=t=>()=>{e.show&&(o(t),e.beforeClose?(a[t]=!0,k(e.beforeClose,{args:[t],done(){r(t),a[t]=!1},canceled(){a[t]=!1}})):r(t))},i=c("cancel"),u=c("confirm"),d=J((t=>{var n,a;if(!e.keyboardEnabled)return;if(t.target!==(null==(a=null==(n=l.value)?void 0:n.popupRef)?void 0:a.value))return;({Enter:e.showConfirmButton?u:y,Escape:e.showCancelButton?i:y})[t.key](),o("keydown",t)}),["enter","esc"]),f=()=>{const o=t.title?t.title():e.title;if(o)return X("div",{class:pe("header",{isolated:!e.message&&!t.default})},[o])},m=o=>{const{message:t,allowHtml:n,messageAlign:l}=e,a=pe("message",{"has-title":o,[l]:l}),s=w(t)?t():t;return n&&"string"==typeof s?X("div",{class:a,innerHTML:s},null):X("div",{class:a},[s])},p=()=>{if(t.default)return X("div",{class:pe("content")},[t.default()]);const{title:o,message:n,allowHtml:l}=e;if(n){const e=!(!o&&!t.title);return X("div",{key:l?1:0,class:pe("content",{isolated:!e})},[m(e)])}},g=()=>t.footer?t.footer():"round-button"===e.theme?X(ie,{class:pe("footer")},{default:()=>[e.showCancelButton&&X(fe,{type:"warning",text:e.cancelButtonText||ge("cancel"),class:pe("cancel"),color:e.cancelButtonColor,loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:i},null),e.showConfirmButton&&X(fe,{type:"danger",text:e.confirmButtonText||ge("confirm"),class:pe("confirm"),color:e.confirmButtonColor,loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]}):X("div",{class:[x,pe("footer")]},[e.showCancelButton&&X(n,{size:"large",text:e.cancelButtonText||ge("cancel"),class:pe("cancel"),style:{color:e.cancelButtonColor},loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:i},null),e.showConfirmButton&&X(n,{size:"large",text:e.confirmButtonText||ge("confirm"),class:[pe("confirm"),{[C]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]);return()=>{const{width:o,title:t,theme:n,message:a,className:r}=e;return X(h,K({ref:l,role:"dialog",class:[pe([n]),r],style:{width:B(o)},tabindex:0,"aria-labelledby":t||a,onKeydown:d,"onUpdate:show":s},v(e,ve)),{default:()=>[f(),p(),g()]})}}});let he;let ye=i({},{title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1});function we(e){return S?new Promise(((o,t)=>{he||function(){const e={setup(){const{state:e,toggle:o}=D();return()=>X(Be,K(e,{"onUpdate:show":o}),null)}};({instance:he}=T(e))}(),he.open(i({},ye,e,{callback:e=>{("confirm"===e?o:t)(e)}}))})):Promise.resolve(void 0)}c(Be);const[Ce,xe]=a("notice-bar");const ke=c(q({name:Ce,props:{text:String,mode:String,color:String,delay:O(1),speed:O(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}},emits:["close","replay"],setup(e,{emit:o,slots:t}){let n,l=0,a=0;const s=U(),r=U(),c=G({show:!0,offset:0,duration:0}),i=t=>{"closeable"===e.mode&&(c.show=!1,o("close",t))},u=()=>{if(t["right-icon"])return t["right-icon"]();const o="closeable"===e.mode?"cross":"link"===e.mode?"arrow":void 0;return o?X(I,{name:o,class:xe("right-icon"),onClick:i},null):void 0},f=()=>{c.offset=l,c.duration=0,j((()=>{H((()=>{c.offset=-a,c.duration=(a+l)/+e.speed,o("replay")}))}))},m=()=>{const o=!1===e.scrollable&&!e.wrapable,n={transform:c.offset?`translateX(${c.offset}px)`:"",transitionDuration:`${c.duration}s`};return X("div",{ref:s,role:"marquee",class:xe("wrap")},[X("div",{ref:r,style:n,class:[xe("content"),{"van-ellipsis":o}],onTransitionend:f},[t.default?t.default():e.text])])},p=()=>{const{delay:o,speed:t,scrollable:i}=e,u=z(o)?1e3*+o:0;l=0,a=0,c.offset=0,c.duration=0,clearTimeout(n),n=setTimeout((()=>{if(!s.value||!r.value||!1===i)return;const e=E(s).width,o=E(r).width;(i||o>e)&&H((()=>{l=e,a=o,c.offset=-a,c.duration=a/+t}))}),u)};return P(p),_(p),A("pageshow",p),d({reset:p}),L((()=>[e.text,e.scrollable]),p),()=>{const{color:o,wrapable:n,background:l}=e;return M(X("div",{role:"alert",class:xe({wrapable:n}),style:{color:o,background:l}},[t["left-icon"]?t["left-icon"]():e.leftIcon?X(I,{class:xe("left-icon"),name:e.leftIcon},null):void 0,m(),u()]),[[Q,c.show]])}}})),Se=e=>(le("data-v-536e0e29"),e=e(),ae(),e),Te=Se((()=>Z("h1",null,"以指令的形式调用",-1))),De={class:"copy-list-item"},Oe={class:"copy-btn"},Pe=Se((()=>Z("h1",null,"以指令的形式调用(自定义成功、或者失败提示)",-1))),_e={class:"copy-list-item"},Ae={class:"copy-btn"},Ie=Se((()=>Z("h1",null,"以method的形式调用",-1))),Ee={class:"copy-list-item"},He=F(q({__name:"index",setup(e){const o=U("13649259704"),t=e=>{console.log(e)},n=e=>{console.log(e)},a=()=>{N(o.value).then((e=>{we({message:e})})).catch((e=>{we({message:e})}))};return(e,s)=>{const r=ke,c=l,i=ne("copy");return R(),V(c,{class:"copy"},{default:W((()=>[Te,Z("div",De,[Y(" 电话："+ee(oe(o))+" ",1),M((R(),te("span",Oe,[Y("  复制 ")])),[[i,{value:oe(o)}]])]),Pe,Z("div",_e,[Y(" 电话："+ee(oe(o))+" ",1),M((R(),te("span",Ae,[Y("  复制 ")])),[[i,{value:oe(o),onSuccess:t,onError:n}]])]),Ie,X(r,{"left-icon":"volume-o",text:"注意：该方法支持Promise 风格 调用，成功/失败交互需要自己写。"}),Z("div",Ee,[Y(" 电话："+ee(oe(o))+" ",1),Z("span",{class:"copy-btn",onClick:a},"复制")])])),_:1})}}}),[["__scopeId","data-v-536e0e29"]]);export{He as default};
