var t=Object.defineProperty,e=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(e,r,s)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;import{_ as n}from"./index-a7dd1c84.js";import{v as h,aa as l,h as c,r as p,u,N as f,O as v,a0 as d,X as g,a1 as m,Q as y,P as b,x}from"./core-314477b5.js";import{g as w}from"./index-87e816b1.js";import{_ as M}from"./index-1ce1725f.js";"function"==typeof SuppressedError&&SuppressedError;var j=function(){function t(t,e,r){this.r=0,this.g=0,this.b=0,this.set(t,e,r)}return t.prototype.set=function(t,e,r){this.r=this.clamp(t),this.g=this.clamp(e),this.b=this.clamp(r)},t.prototype.hueRotate=function(t){void 0===t&&(t=0),t=t/180*Math.PI;var e=Math.sin(t),r=Math.cos(t);this.multiply([.213+.787*r-.213*e,.715-.715*r-.715*e,.072-.072*r+.928*e,.213-.213*r+.143*e,.715+.285*r+.14*e,.072-.072*r-.283*e,.213-.213*r-.787*e,.715-.715*r+.715*e,.072+.928*r+.072*e])},t.prototype.grayscale=function(t){void 0===t&&(t=1),this.multiply([.2126+.7874*(1-t),.7152-.7152*(1-t),.0722-.0722*(1-t),.2126-.2126*(1-t),.7152+.2848*(1-t),.0722-.0722*(1-t),.2126-.2126*(1-t),.7152-.7152*(1-t),.0722+.9278*(1-t)])},t.prototype.sepia=function(t){void 0===t&&(t=1),this.multiply([.393+.607*(1-t),.769-.769*(1-t),.189-.189*(1-t),.349-.349*(1-t),.686+.314*(1-t),.168-.168*(1-t),.272-.272*(1-t),.534-.534*(1-t),.131+.869*(1-t)])},t.prototype.saturate=function(t){void 0===t&&(t=1),this.multiply([.213+.787*t,.715-.715*t,.072-.072*t,.213-.213*t,.715+.285*t,.072-.072*t,.213-.213*t,.715-.715*t,.072+.928*t])},t.prototype.multiply=function(t){var e=this.clamp(this.r*t[0]+this.g*t[1]+this.b*t[2]),r=this.clamp(this.r*t[3]+this.g*t[4]+this.b*t[5]),s=this.clamp(this.r*t[6]+this.g*t[7]+this.b*t[8]);this.r=e,this.g=r,this.b=s},t.prototype.brightness=function(t){void 0===t&&(t=1),this.linear(t)},t.prototype.contrast=function(t){void 0===t&&(t=1),this.linear(t,-.5*t+.5)},t.prototype.linear=function(t,e){void 0===t&&(t=1),void 0===e&&(e=0),this.r=this.clamp(this.r*t+255*e),this.g=this.clamp(this.g*t+255*e),this.b=this.clamp(this.b*t+255*e)},t.prototype.invert=function(t){void 0===t&&(t=1),this.r=this.clamp(255*(t+this.r/255*(1-2*t))),this.g=this.clamp(255*(t+this.g/255*(1-2*t))),this.b=this.clamp(255*(t+this.b/255*(1-2*t)))},t.prototype.hsl=function(){var t=this.r/255,e=this.g/255,r=this.b/255,s=Math.max(t,e,r),i=Math.min(t,e,r),a=0,o=(s+i)/2;if(s===i)return{h:0,s:0,l:100*o};var n=s-i;return s===t?a=(e-r)/n+(e<r?6:0):s===e?a=(r-t)/n+2:s===r&&(a=(t-e)/n+4),{h:100*(a/=6),s:100*(o>.5?n/(2-s-i):n/(s+i)),l:100*o}},t.prototype.clamp=function(t){return Math.min(Math.max(t,0),255)},t}(),I=function(){function t(t,e){this.target=t,this.targetHSL=t.hsl(),this.options=Object.assign({},{acceptanceLossPercentage:5,maxChecks:15},e),this.reusedColor=new j(0,0,0)}return t.prototype.solve=function(){var t=this.solveNarrow(this.solveWide());return{values:t.values,called:t.called,loss:t.loss,filter:this.css(t.values)}},t.prototype.solveWide=function(){for(var t=[60,180,18e3,600,1.2,1.2],e={loss:Infinity},r=0;e.loss>this.options.acceptanceLossPercentage;){var s=this.spsa({A:5,a:t,c:15,values:[50,20,3750,50,100,100],maxTriesInLoop:1e3});if(s.loss<e.loss&&(e=s),(r+=1)>=this.options.maxChecks)break}return Object.assign({},e,{called:r})},t.prototype.solveNarrow=function(t){var e=t.loss,r=e+1,s=[.25*r,.25*r,r,.25*r,.2*r,.2*r];return this.spsa({A:e,a:s,c:2,values:t.values,maxTriesInLoop:500,called:t.called})},t.prototype.fixValueByFilterIDX=function(t,e){var r=100;return 2===e?r=7500:4!==e&&5!==e||(r=200),3===e?t>r?t%=r:t<0&&(t=r+t%r):t<0?t=0:t>r&&(t=r),t},t.prototype.spsa=function(t){for(var e=t.A,r=t.a,s=t.c,i=t.values,a=t.maxTriesInLoop,o=void 0===a?500:a,n=t.called,h=void 0===n?0:n,l=null,c=Infinity,p=new Array(6),u=new Array(6),f=new Array(6),v=0;v<o;v++){for(var d=s/Math.pow(v+1,.16666666666666666),g=0;g<6;g++)p[g]=Math.random()>.5?1:-1,u[g]=i[g]+d*p[g],f[g]=i[g]-d*p[g];var m=this.loss(u)-this.loss(f);for(g=0;g<6;g++){var y=m/(2*d)*p[g],b=r[g]/Math.pow(e+v+1,1);i[g]=this.fixValueByFilterIDX(i[g]-b*y,g)}var x=this.loss(i);x<c&&(l=i.slice(0),c=x)}return{values:l,loss:c,called:h}},t.prototype.loss=function(t){var e=this.reusedColor;e.set(0,0,0),e.invert(t[0]/100),e.sepia(t[1]/100),e.saturate(t[2]/100),e.hueRotate(3.6*t[3]),e.brightness(t[4]/100),e.contrast(t[5]/100);var r=e.hsl();return Math.abs(e.r-this.target.r)+Math.abs(e.g-this.target.g)+Math.abs(e.b-this.target.b)+Math.abs(r.h-this.targetHSL.h)+Math.abs(r.s-this.targetHSL.s)+Math.abs(r.l-this.targetHSL.l)},t.prototype.css=function(t){var e=function(e,r){return void 0===r&&(r=1),Math.round(t[e]*r)};return["invert("+e(0)+"%)","sepia("+e(1)+"%)","saturate("+e(2)+"%)","hue-rotate("+e(3,3.6)+"deg)","brightness("+e(4)+"%)","contrast("+e(5)+"%);"].join(" ")},t}(),O=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},N={},S=function(t,e){var r,s,i,a,o,n;if(void 0===e&&(e={}),N[t]&&!e.forceFilterRecalculation)return Object.assign({},N[t],{cache:!0});try{if(s=(r=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var s,i,a=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}(4===(n=t).length?[parseInt("0x"+n[1]+n[1]),parseInt("0x"+n[2]+n[2]),parseInt("0x"+n[3]+n[3])]:7===n.length?[parseInt("0x"+n[1]+n[2]),parseInt("0x"+n[3]+n[4]),parseInt("0x"+n[5]+n[6])]:[],3))[0],i=r[1],a=r[2],!O(s)||!O(i)||!O(a))throw new Error("hextToRgb returned an invalid value for '"+t+"'");o=new j(Number(s),Number(i),Number(a))}catch(l){throw new Error("Color value should be in HEX format. "+l)}var h=new I(o,Object.assign({},{acceptanceLossPercentage:5,maxChecks:30,forceFilterRecalculation:!1},e));return N[t]=Object.assign({},h.solve(),{hex:t,rgb:[s,i,a],cache:!1})};const k=["src"],L=["xlink:href"],P=h({name:"BaseSvg"}),A=h((F=((t,e)=>{for(var r in e||(e={}))i.call(e,r)&&o(t,r,e[r]);if(s)for(var r of s(e))a.call(e,r)&&o(t,r,e[r]);return t})({},P),_={props:{name:{type:String,default:""},width:{type:[Number,String],default:""},height:{type:[Number,String],default:""},color:{type:String,default:""},ksh:{type:Boolean,default:!1}},setup(t){l((t=>({e64a3c60:u(a)})));const e=t,r=c((()=>`#svg-${e.name}`)),s=p("svg-icon"),i=c((()=>({width:e.width?w(Number(e.width)*(e.ksh?2:1))+"px":"inherit",height:e.height?w(Number(e.height)*(e.ksh?2:1))+"px":"inherit",color:e.color||"inherit"}))),a=c((()=>e.name&&e.color?/^(#)((?:[A-Fa-f0-9]{3}){1,2})$/.test(e.color)?S(e.color).filter.replace(";",""):(console.error("base-svg匹配hex颜色失败：",e.color),""):"")),o=c((()=>/^http(s)?:\/\/.*$/.test(e.name))),n=c((()=>({width:e.width?w(Number(e.width)*(e.ksh?2:1))+"px":"inherit",height:e.height?w(Number(e.height)*(e.ksh?2:1))+"px":"inherit"})));return(t,a)=>u(o)?(f(),v("img",{key:0,src:e.name,style:d(u(n)),class:"svg-filter"},null,12,k)):(f(),v("svg",{key:1,class:m(u(s)),"aria-hidden":"true",style:d(u(i))},[g("use",{"xlink:href":u(r)},null,8,L)],6))}},e(F,r(_))));var F,_;const C=M(A,[["__scopeId","data-v-1c14cb46"]]),E=h({__name:"index",setup:t=>(t,e)=>{const r=n;return f(),y(r,null,{default:b((()=>[x(C,{name:"user",color:"#0fe1d0",width:60,height:60})])),_:1})}});export{E as default};
