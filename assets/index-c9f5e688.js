var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;import{c,e as i,p as r,t as d,R as u,m as p,h as m,i as f,P as v,I as b,U as h,O as g,w as O,_ as w}from"./index-e5fbf354.js";import{F as y,C as j}from"./index-80f66ae5.js";import{v as x,x as P,A as S,n as k,a9 as C,a7 as I,r as A,h as N,N as V,Q as _,P as B,u as U,b as T}from"./core-314477b5.js";import"./index-d7159458.js";const[M,q]=c("action-sheet"),D=i({},r,{title:String,round:d,actions:u(),closeIcon:p("cross"),closeable:d,cancelText:String,description:String,closeOnPopstate:d,closeOnClickAction:Boolean,safeAreaInsetBottom:d}),E=[...m,"round","closeOnPopstate","safeAreaInsetBottom"];const F=O(x({name:M,props:D,emits:["select","cancel","update:show"],setup(e,{slots:a,emit:s}){const t=e=>s("update:show",e),l=()=>{t(!1),s("cancel")},o=()=>{if(e.title)return P("div",{class:q("header")},[e.title,e.closeable&&P(b,{name:e.closeIcon,class:[q("close"),h],onClick:l},null)])},n=()=>{if(a.cancel||e.cancelText)return[P("div",{class:q("gap")},null),P("button",{type:"button",class:q("cancel"),onClick:l},[a.cancel?a.cancel():e.cancelText])]},c=e=>{if(e.icon)return P(b,{class:q("item-icon"),name:e.icon},null)},i=(e,s)=>e.loading?P(g,{class:q("loading-icon")},null):a.action?a.action({action:e,index:s}):[P("span",{class:q("name")},[e.name]),e.subname&&P("div",{class:q("subname")},[e.subname])],r=(a,l)=>{const{color:o,loading:n,callback:r,disabled:d,className:u}=a;return P("button",{type:"button",style:{color:o},class:[q("item",{loading:n,disabled:d}),u],onClick:()=>{d||n||(r&&r(a),e.closeOnClickAction&&t(!1),k((()=>s("select",a,l))))}},[c(a),i(a,l)])},d=()=>{if(e.description||a.description){const s=a.description?a.description():e.description;return P("div",{class:q("description")},[s])}};return()=>P(v,S({class:q(),position:"bottom","onUpdate:show":t},f(e,E)),{default:()=>{var s;return[o(),d(),P("div",{class:q("content")},[e.actions.map(r),null==(s=a.default)?void 0:s.call(a)]),n()]}})}})),K=x({name:"BaseAction"}),Q=x((R=((e,a)=>{for(var s in a||(a={}))l.call(a,s)&&n(e,s,a[s]);if(t)for(var s of t(a))o.call(a,s)&&n(e,s,a[s]);return e})({},K),a(R,s({props:C({placeholder:{default:"请选择"},options:{default:()=>[]},fieldNames:{default:()=>({name:"name",value:"value"})}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=e,s=I(e,"modelValue");let t=A(!1);const l=N((()=>{const e=(n(a.options)||[]).find((e=>String(e.value)===String(s.value)));return e?e.name:""})),o=e=>{var l;t.value=!1,s.value=e[null==(l=a.fieldNames)?void 0:l.value]},n=e=>{let s=[];return e.find((e=>{s.push({name:e[a.fieldNames.name],value:String(e[a.fieldNames.value])})})),s};return(e,s)=>{const c=y,i=F,r=j;return V(),_(r,{class:"base-select_wrapper"},{default:B((()=>[P(c,S({modelValue:U(l),"onUpdate:modelValue":s[0]||(s[0]=e=>T(l)?l.value=e:null),modelModifiers:{trim:!0},class:"base-select",placeholder:e.placeholder},e.$attrs,{readonly:"",onClick:s[1]||(s[1]=e=>T(t)?t.value=!0:t=!0)}),null,16,["modelValue","placeholder"]),P(i,{show:U(t),"onUpdate:show":s[2]||(s[2]=e=>T(t)?t.value=e:t=e),actions:n(a.options),"cancel-text":"取消",onSelect:o},null,8,["show","actions"])])),_:1})}}}))));var R;const $=w(Q,[["__scopeId","data-v-3160e0e4"]]);export{$ as default};
