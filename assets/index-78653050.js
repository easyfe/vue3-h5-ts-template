import{p as e,y as t,v as a,r as n,a as l,h as o,w as r,n as i,x as s,k as c,l as d,g as u,z as v,C as f,D as p,A as h}from"./core-314477b5.js";import{ar as b,G as g,ai as m,as as x,v as y,C as w,c as I,n as k,m as C,z as B,ah as S,at as $,e as T,al as R,D as z,a4 as A,E as j,S as L,T as H,w as W,L as Z,f as O,t as F,u as M,A as N,j as D,H as E,am as V,ae as X,au as q,q as G,an as J,g as K,d as P,F as Q,i as U}from"./index-ac951421.js";import{c as Y,e as _,r as ee}from"./index-7a246152.js";import{a as te}from"./use-tab-status-e732bd88.js";import{a as ae,S as ne}from"./index-40809951.js";import{u as le}from"./use-refs-9a320d2d.js";
/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const oe=Array.isArray,re=e=>"string"==typeof e,ie=e=>null!==e&&"object"==typeof e,se=/\B([A-Z])/g,ce=(e=>{const t=Object.create(null);return a=>t[a]||(t[a]=e(a))})((e=>e.replace(se,"-$1").toLowerCase()));function de(e){if(oe(e)){const t={};for(let a=0;a<e.length;a++){const n=e[a],l=re(n)?pe(n):de(n);if(l)for(const e in l)t[e]=l[e]}return t}if(re(e)||ie(e))return e}const ue=/;(?![^(]*\))/g,ve=/:([^]+)/,fe=/\/\*[^]*?\*\//g;function pe(e){const t={};return e.replace(fe,"").split(ue).forEach((e=>{if(e){const a=e.split(ve);a.length>1&&(t[a[0].trim()]=a[1].trim())}})),t}function he(e){let t="";if(re(e))t=e;else if(oe(e))for(let a=0;a<e.length;a++){const n=he(e[a]);n&&(t+=n+" ")}else if(ie(e))for(const a in e)e[a]&&(t+=a+" ");return t.trim()}function be(a,n){if(!y||!window.IntersectionObserver)return;const l=new IntersectionObserver((e=>{n(e[0].intersectionRatio>0)}),{root:document.body}),o=()=>{a.value&&l.unobserve(a.value)};e(o),t(o),w((()=>{a.value&&l.observe(a.value)}))}const[ge,me]=I("sticky");const xe=W(a({name:ge,props:{zIndex:k,position:C("top"),container:Object,offsetTop:B(0),offsetBottom:B(0)},emits:["scroll","change"],setup(e,{emit:t,slots:a}){const c=n(),d=S(c),u=l({fixed:!1,width:0,height:0,transform:0}),v=n(!1),f=o((()=>$("top"===e.position?e.offsetTop:e.offsetBottom))),p=o((()=>{if(v.value)return;const{fixed:e,height:t,width:a}=u;return e?{width:`${a}px`,height:`${t}px`}:void 0})),h=o((()=>{if(!u.fixed||v.value)return;const t=T(R(e.zIndex),{width:`${u.width}px`,height:`${u.height}px`,[e.position]:`${f.value}px`});return u.transform&&(t.transform=`translate3d(0, ${u.transform}px, 0)`),t})),b=()=>{if(!c.value||A(c))return;const{container:a,position:n}=e,l=j(c),o=m(window);if(u.width=l.width,u.height=l.height,"top"===n)if(a){const e=j(a),t=e.bottom-f.value-u.height;u.fixed=f.value>l.top&&e.bottom>0,u.transform=t<0?t:0}else u.fixed=f.value>l.top;else{const{clientHeight:e}=document.documentElement;if(a){const t=j(a),n=e-t.top-f.value-u.height;u.fixed=e-f.value<l.bottom&&e>t.top,u.transform=n<0?-n:0}else u.fixed=e-f.value<l.bottom}(e=>{t("scroll",{scrollTop:e,isFixed:u.fixed})})(o)};return r((()=>u.fixed),(e=>t("change",e))),z("scroll",b,{target:d,passive:!0}),be(c,b),r([L,H],(()=>{c.value&&!A(c)&&u.fixed&&(v.value=!0,i((()=>{const e=j(c);u.width=e.width,u.height=e.height,v.value=!1})))})),()=>{var e;return s("div",{ref:c,style:p.value},[s("div",{class:me({fixed:u.fixed&&!v.value}),style:h.value},[null==(e=a.default)?void 0:e.call(a)])])}}})),[ye,we]=I("tabs");var Ie=a({name:ye,props:{count:Z(Number),inited:Boolean,animated:Boolean,duration:Z(k),swipeable:Boolean,lazyRender:Boolean,currentIndex:Z(Number)},emits:["change"],setup(e,{emit:t,slots:a}){const l=n(),o=e=>t("change",e),i=()=>{var t;const n=null==(t=a.default)?void 0:t.call(a);return e.animated||e.swipeable?s(ae,{ref:l,loop:!1,class:we("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:o},{default:()=>[n]}):n},d=t=>{const a=l.value;a&&a.state.active!==t&&a.swipeTo(t,{immediate:!e.inited})};return r((()=>e.currentIndex),d),c((()=>{d(e.currentIndex)})),O({swipeRef:l}),()=>s("div",{class:we("content",{animated:e.animated||e.swipeable})},[i()])}});const[ke,Ce]=I("tabs"),Be={type:C("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:B(0),duration:B(.3),animated:Boolean,ellipsis:F,swipeable:Boolean,scrollspy:Boolean,offsetTop:B(0),background:String,lazyRender:F,showHeader:F,lineWidth:k,lineHeight:k,beforeChange:Function,swipeThreshold:B(5),titleActiveColor:String,titleInactiveColor:String},Se=Symbol(ke);var $e=a({name:ke,props:Be,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:t,slots:a}){let c,u,v,f,p;const h=n(),y=n(),I=n(),k=n(),C=Y(),B=S(h),[T,R]=le(),{children:H,linkChildren:W}=M(Se),Z=l({inited:!1,position:"",lineStyle:{},currentIndex:-1}),F=o((()=>H.length>+e.swipeThreshold||!e.ellipsis||e.shrink)),J=o((()=>({borderColor:e.color,background:e.background}))),K=(e,t)=>{var a;return null!=(a=e.name)?a:t},P=o((()=>{const e=H[Z.currentIndex];if(e)return K(e,Z.currentIndex)})),Q=o((()=>$(e.offsetTop))),U=o((()=>e.sticky?Q.value+c:0)),ee=t=>{const a=y.value,n=T.value;if(!(F.value&&a&&n&&n[Z.currentIndex]))return;const l=n[Z.currentIndex].$el,o=l.offsetLeft-(a.offsetWidth-l.offsetWidth)/2;f&&f(),f=function(e,t,a){let n,l=0;const o=e.scrollLeft,r=0===a?1:Math.round(1e3*a/16);let i=o;return function a(){i+=(t-o)/r,e.scrollLeft=i,++l<r&&(n=g(a))}(),function(){b(n)}}(a,o,t?0:+e.duration)},te=()=>{const t=Z.inited;i((()=>{const a=T.value;if(!a||!a[Z.currentIndex]||"line"!==e.type||A(h.value))return;const n=a[Z.currentIndex].$el,{lineWidth:l,lineHeight:o}=e,r=n.offsetLeft+n.offsetWidth/2,i={width:D(l),backgroundColor:e.color,transform:`translateX(${r}px) translateX(-50%)`};if(t&&(i.transitionDuration=`${e.duration}s`),E(o)){const e=D(o);i.height=e,i.borderRadius=e}Z.lineStyle=i}))},ae=(a,n)=>{const l=(e=>{const t=e<Z.currentIndex?-1:1;for(;e>=0&&e<H.length;){if(!H[e].disabled)return e;e+=t}})(a);if(!E(l))return;const o=H[l],r=K(o,l),i=null!==Z.currentIndex;Z.currentIndex!==l&&(Z.currentIndex=l,n||ee(),te()),r!==e.active&&(t("update:active",r),i&&t("change",r,o.title)),v&&!e.scrollspy&&X(Math.ceil(q(h.value)-Q.value))},ne=(e,t)=>{const a=H.findIndex(((t,a)=>K(t,a)===e));ae(-1===a?0:a,t)},oe=(t=!1)=>{if(e.scrollspy){const a=H[Z.currentIndex].$el;if(a&&B.value){const n=q(a,B.value)-U.value;u=!0,p&&p(),p=function(e,t,a,n){let l,o=m(e);const r=o<t,i=0===a?1:Math.round(1e3*a/16),s=(t-o)/i;return function a(){o+=s,(r&&o>t||!r&&o<t)&&(o=t),x(e,o),r&&o<t||!r&&o>t?l=g(a):n&&(l=g(n))}(),function(){b(l)}}(B.value,n,t?0:+e.duration,(()=>{u=!1}))}}},re=(a,n,l)=>{const{title:o,disabled:r}=H[n],i=K(H[n],n);r||(G(e.beforeChange,{args:[i],done:()=>{ae(n),oe()}}),_(a)),t("clickTab",{name:i,title:o,event:l,disabled:r})},ie=e=>{v=e.isFixed,t("scroll",e)},se=()=>{if("line"===e.type&&H.length)return s("div",{class:Ce("line"),style:Z.lineStyle},null)},ce=()=>{var t,n,l;const{type:o,border:r,sticky:i}=e,c=[s("div",{ref:i?void 0:I,class:[Ce("wrap"),{[V]:"line"===o&&r}]},[s("div",{ref:y,role:"tablist",class:Ce("nav",[o,{shrink:e.shrink,complete:F.value}]),style:J.value,"aria-orientation":"horizontal"},[null==(t=a["nav-left"])?void 0:t.call(a),H.map((e=>e.renderTitle(re))),se(),null==(n=a["nav-right"])?void 0:n.call(a)])]),null==(l=a["nav-bottom"])?void 0:l.call(a)];return i?s("div",{ref:I},[c]):c},de=()=>{te(),i((()=>{var e,t;ee(!0),null==(t=null==(e=k.value)?void 0:e.swipeRef.value)||t.resize()}))};r((()=>[e.color,e.duration,e.lineWidth,e.lineHeight]),te),r(L,de),r((()=>e.active),(e=>{e!==P.value&&ne(e)})),r((()=>H.length),(()=>{Z.inited&&(ne(e.active),te(),i((()=>{ee(!0)})))}));return O({resize:de,scrollTo:e=>{i((()=>{ne(e),oe(!0)}))}}),d(te),N(te),w((()=>{ne(e.active,!0),i((()=>{Z.inited=!0,I.value&&(c=j(I.value).height),ee(!0)}))})),be(h,te),z("scroll",(()=>{if(e.scrollspy&&!u){const e=(()=>{for(let e=0;e<H.length;e++){const{top:t}=j(H[e].$el);if(t>U.value)return 0===e?0:e-1}return H.length-1})();ae(e)}}),{target:B,passive:!0}),W({id:C,props:e,setLine:te,scrollable:F,onRendered:(e,a)=>t("rendered",e,a),currentName:P,setTitleRefs:R,scrollIntoView:ee}),()=>s("div",{ref:h,class:Ce([e.type])},[e.showHeader?e.sticky?s(xe,{container:h.value,offsetTop:Q.value,onScroll:ie},{default:()=>[ce()]}):ce():null,s(Ie,{ref:k,count:H.length,inited:Z.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:Z.currentIndex,onChange:ae},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a)]}})])}});const[Te,Re]=I("tab"),ze=a({name:Te,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:k,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:F},setup(e,{slots:t}){const a=o((()=>{const t={},{type:a,color:n,disabled:l,isActive:o,activeColor:r,inactiveColor:i}=e;n&&"card"===a&&(t.borderColor=n,l||(o?t.backgroundColor=n:t.color=n));const s=o?r:i;return s&&(t.color=s),t})),n=()=>{const a=s("span",{class:Re("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||E(e.badge)&&""!==e.badge?s(J,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>s("div",{id:e.id,role:"tab",class:[Re([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:a.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[n()])}}),[Ae,je]=I("tab");const Le=W(a({name:Ae,props:T({},ee,{dot:Boolean,name:k,badge:k,title:String,disabled:Boolean,titleClass:K,titleStyle:[String,Object],showZeroBadge:F}),setup(e,{slots:t}){const a=Y(),l=n(!1),c=u(),{parent:d,index:b}=P(Se);if(!d)return;const g=()=>{var t;return null!=(t=e.name)?t:b.value},m=o((()=>{const t=g()===d.currentName.value;return t&&!l.value&&(l.value=!0,d.props.lazyRender&&i((()=>{d.onRendered(g(),e.title)}))),t})),x=n(""),y=n("");v((()=>{const{titleClass:t,titleStyle:a}=e;x.value=t?he(t):"",y.value=a&&"string"!=typeof a?function(e){if(!e)return"";if(re(e))return e;let t="";for(const a in e){const n=e[a];(re(n)||"number"==typeof n)&&(t+=`${a.startsWith("--")?a:ce(a)}:${n};`)}return t}(de(a)):a}));const w=n(!m.value);return r(m,(e=>{e?w.value=!1:Q((()=>{w.value=!0}))})),r((()=>e.title),(()=>{d.setLine(),d.scrollIntoView()})),te(m),O({id:a,renderTitle:n=>s(ze,h({key:a,id:`${d.id}-${b.value}`,ref:d.setTitleRefs(b.value),style:y.value,class:x.value,isActive:m.value,controls:a,scrollable:d.scrollable.value,activeColor:d.props.titleActiveColor,inactiveColor:d.props.titleInactiveColor,onClick:e=>n(c.proxy,b.value,e)},U(d.props,["type","color","shrink"]),U(e,["dot","badge","title","disabled","showZeroBadge"])),{title:t.title})}),()=>{var e;const n=`${d.id}-${b.value}`,{animated:o,swipeable:r,scrollspy:i,lazyRender:c}=d.props;if(!t.default&&!o)return;const u=i||m.value;if(o||r)return s(ne,{id:a,role:"tabpanel",class:je("panel-wrapper",{inactive:w.value}),tabindex:m.value?0:-1,"aria-hidden":!m.value,"aria-labelledby":n,"data-allow-mismatch":"attribute"},{default:()=>{var e;return[s("div",{class:je("panel")},[null==(e=t.default)?void 0:e.call(t)])]}});const v=l.value||i||!c?null==(e=t.default)?void 0:e.call(t):null;return f(s("div",{id:a,role:"tabpanel",class:je("panel"),tabindex:u?0:-1,"aria-labelledby":n,"data-allow-mismatch":"attribute"},[v]),[[p,u]])}}})),He=W($e);export{He as T,Le as a};
